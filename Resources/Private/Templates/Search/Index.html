<html
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:i="http://typo3.org/ns/Quellenform/Iconpack/ViewHelpers"
    data-namespace-typo3-fluid="true">


<div class="searchresults-info frame">
    <output class="searchresults-total-items">{totalItems} Treffer</output>
    <button class="filter-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#filter-container" aria-controls="filter-container">
        Filter
    </button>
</div>


<aside class="sidebar">
    <nav class="filter-container offcanvas offcanvas-end" id="filter-container" aria-label="{f:translate(key: 'filter_container_label', extensionName: 'liszt_common')}" >
        <div class="offcanvas-header">
            <h5 class="offcanvas-title">{f:translate(key: 'filter_container_label', extensionName: 'liszt_common')}</h5>
            <button type="button" class="btn-close " data-bs-dismiss="offcanvas" aria-label="{f:translate(key: 'filter_container_close', extensionName: 'liszt_common')}">
                <i:icon iconfig="lzicon,close" preferredRenderTypes="svgSprite" additionalAttributes="{aria-hidden:'true'}" />
            </button>
        </div>
        <div class="offcanvas-body">
        <f:for each="{searchResults.aggregations}" key="key" as="filterGroup">
            <f:if condition="{filterGroup.buckets}">
                <div class="filter-block frame">
                    <h4 class="">{key}</h4>
                    <ul>
                        <f:for each="{filterGroup.buckets}" as="filter">
                            <li><span class="form-checkbox"><input class="form-check-input" type="checkbox" id="{filter.key}" value="{filter.key}"><label class="form-check-label" for="{filter.key}">{filter.key}</label></span><span class="count">{filter.doc_count}</span></li>
                        </f:for>
                    </ul>
                </div>
            </f:if>
        </f:for>
        </div>
    </nav>

</aside>
<div class="content grid-colspan-lg-3 grid-colspan-md-2">
    <div class="frame">

    <f:for each="{searchResults.hits.hits}" as="hit">
        <article class="searchresults-item ">
            <header>
                <div class="searchresults-item-label">
                    <f:for each="{hit._source.creators}" as="creator">
                        {creator.firstName} {creator.lastName}
                    </f:for>
                </div>
                <div class="searchresults-item-title">
                <div class="searchresults-item-icon"><i:icon iconfig="lziconsr,musicSheet" preferredRenderTypes="svgSprite" additionalAttributes="{aria-hidden:'true'}" /></div>
                <h3 >
                    {hit._source.title}, {hit._source.title}
                </h3>
                </div>
            </header>
            <div class="searchresults-item-details">
                {hit._source.date}, {hit._source.pages}, {hit._source.archiveLocation}
            </div>
        </article>
    </f:for>
    </div>
</div>
